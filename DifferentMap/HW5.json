{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": 500,
    "height": 400,
    "title": "Percentage of drugs people get from different sources",
    "params": [
      {
          "name": "Source_selection",
          "bind": {
          "input": "select",
          "options": [
                null,
                "Friend",
                "Relative or partner",
                "Dealer",
                "Other"
          ],
          "labels":[
              "Show All",
              "Friend",
              "Relative or partner",
              "Dealer",
              "Other"
          ],
          "name": "Source Selection: "
          }
      }
    ],
   "transform": [
        {"filter": "Source_selection == null || datum.Source == Source_selection"}
      ],
  
    "data": {
    "url": "https://raw.githubusercontent.com/stha0035/Assingment2-2977275/main/SourceOfDrugs2001.csv"
    },
    "mark": "area",
    "encoding": {
      "x": {
      "field": "Year",
      "timeUnit": "year",
      "title": "Confirmed Cases"
     },
      "y": {
      "field": "Percentage",
      "type": "quantitative"
    },
      "color": {
      "field": "Drug Typ",
          "type": "nominal",
          "title": "Drug Type",
          "scale": {
          "domain": [
          "Cannabis",
          "Ecstasy ",
          "Meth",
          "Cocaine",
          "Inhalants"
          ],
          "range": [
          "#e41a1c",
          "#984ea3",
          "#ff7f00",
          "#a6cee3",
          "#377eb8",
          "#a65628"
              ]
            }
          },
          "opacity": {
          "value": 0.6
          },
    "size": {
      "field": "Percentage",
      "type": "quantitative"
      },
      "tooltip": [
          {"field": "Drug Type", "type": "nominal"},
          {"field": "Percentage", "type": "quantitative", "format": ","},
          {"field": "Source", "type": "nominal"},
          {"field": "Year", "timeUnit": "year"}
            ]
    }
  }
  